<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}SaaS Financeiro{% endblock %}</title>
  
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  {% block head %}{% endblock %}
  <style>
    /* Estilos base (você já deve ter) */
.alert {
    padding: 1rem;
    margin-bottom: 1rem;
    border: 1px solid transparent;
    border-radius: .25rem;
}
.alert-danger {
    color: #721c24;
    background-color: #f8d7da;
    border-color: #f5c6cb;
}
.alert-success {
    color: #155724;
    background-color: #d4edda;
    border-color: #c3e6cb;
}
/* Fim dos estilos base */


/* 1. Definição da Animação (O que ela faz) */
@keyframes fadeOutAndCollapse {
    /* Início: O alerta está visível */
    0% {
        opacity: 1;
        visibility: visible;
        /* Definimos uma altura máxima para poder animar o "colapso" */
        max-height: 150px; 
        padding: 1rem;
        margin-bottom: 1rem;
    }
    
    /* Meio: O alerta começa a desaparecer (fade out) */
    80% {
        opacity: 0;
        visibility: hidden;
        max-height: 150px;
        padding: 1rem;
        margin-bottom: 1rem;
    }
    
    /* Fim: O alerta colapsa (altura e margens zeradas) */
    100% {
        opacity: 0;
        visibility: hidden;
        max-height: 0;
        padding: 0 1rem; /* Zera padding vertical */
        margin-bottom: 0;
    }
}

/* 2. Aplicação da Animação no Alerta */
.flash-auto-dismiss {
    /* Essencial para a animação de 'max-height' funcionar suavemente */
    overflow: hidden;

    /* Sintaxe curta da animação: */
    animation: fadeOutAndCollapse 1.5s ease-in-out 5s forwards;

    /* Detalhado:
       animation-name: fadeOutAndCollapse;
       animation-duration: 1.5s;  (Duração do efeito de sumiço)
       animation-timing-function: ease-in-out;
       animation-delay: 5s;       (Espera 5 segundos ANTES de começar)
       animation-fill-mode: forwards; (Mantém o estado final, 100% da animação)
    */
}

/* Container para o input e o ícone */
.password-container {
    /* Isso permite posicionar o ícone 'absolutamente' dentro deste container */
    position: relative;
}

/* Estilo do ícone de olho */
#togglePassword {
    /* Posiciona o ícone de forma absoluta */
    position: absolute;
    
    /* Coloca o ícone no lado direito */
    right: 15px; 
    
    /* Alinha verticalmente no meio */
    top: 70%;
    transform: translateY(-50%);
    
    /* Muda o cursor para indicar que é clicável */
    cursor: pointer;
    
    /* Um cor sutil para o ícone */
    color: #6c757d; /* (cinza do bootstrap 'secondary') */
}
  </style>
</head>

<body class="d-flex">

  <!-- Lado esquerdo fixo -->
  <div class="d-flex flex-column justify-content-center align-items-start text-white px-5" 
       style="background-color:#99E6DA; width:50%; min-height:100vh;">
    <div>
      <div class="d-flex align-items-center mb-1">
        <h1 class="fw-bold display-3 me-2 mb-0">SaaS</h1>
        <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo SaaS" width="80" height="80">
      </div>
      <h1 class="fw-bold display-3 mb-2">Financeiro</h1>
      <p class="mb-0">Sua empresa a um clique de distância</p>
    </div>
    <small class="position-absolute bottom-0 start-0 ps-5 pb-3" style="font-size:0.8rem;">
      A melhor empresa no mercado
    </small>
  </div>

  <!-- Conteúdo da página -->
  <div style="position: fixed; top: 20px; left: 85%; transform: translateX(-50%); z-index: 1050; width: 90%; max-width: 400px;">
    
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
            {% for category, message in messages %}
              
              <div class="alert alert-{{ category }} d-flex align-items-center justify-content-between fade show rounded-pill shadow-sm mb-2" role="alert">
                <div>
                    {{ message }}
                </div>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
              
            {% endfor %}
      {% endif %}
    {% endwith %}
    
</div>
  <div class="d-flex flex-column justify-content-center align-items-center bg-white w-50">
    {% block content %}{% endblock %}
  </div>
  
  {% block scripts %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{{ url_for('static', filename='js/passwordViewToggle.js') }}"></script>
  {% endblock %}
  
</body>
</html>
